{"ast":null,"code":"import _toConsumableArray from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/src/components/Adjust/Adjust.js\";\nimport React, { Component } from \"react\";\nimport \"./Adjust.css\";\nimport Slider from \"../slider/slider\";\nimport $ from \"jquery\";\n\nvar Adjust =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Adjust, _Component);\n\n  function Adjust(props) {\n    var _this;\n\n    _classCallCheck(this, Adjust);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Adjust).call(this, props));\n\n    _this.slidderChangeHandler = function (event, element) {\n      event.persist();\n      console.log(event, element);\n      /*  let adjust = [...this.state.adjust];\n       adjust.map(el => {\n         if (el.name === element.name) {\n           el.range = event.target.value;\n         }\n       });\n       adjust =  [...this.state.adjust]\n       this.setState({ adjust: adjust, changedElement: element }); */\n    };\n\n    _this.applyFilter = function (imgId, adjust) {\n      return new Promise(function (resolve, reject) {\n        window.caman(imgId, function () {\n          this.revert(false);\n          /*  this[changedElement.name](parseFloat(changedElement.range)) */\n\n          this.brightness(parseFloat(adjust[0].range));\n          this.contrast(parseFloat(adjust[1].range));\n          this.saturation(parseFloat(adjust[2].range));\n          this.vibrance(parseFloat(adjust[3].range));\n          this.exposure(parseFloat(adjust[4].range));\n          this.hue(parseFloat(adjust[5].range));\n          this.sepia(parseFloat(adjust[6].range));\n          this.noise(parseFloat(adjust[7].range));\n          this.sharpen(parseFloat(adjust[8].range));\n          resolve(\"Done\");\n        });\n      });\n    };\n\n    _this.resetHandler = function () {\n      var image = $(_this.props.selected.canvaselement);\n      var imgId = '#' + image.attr('id');\n\n      var adjust = _toConsumableArray(_this.state.adjust);\n\n      console.log(adjust);\n      adjust.map(function (el) {\n        el.range = 0;\n      });\n\n      _this.setState({\n        adjust: adjust\n      }, function () {\n        window.caman(imgId, function () {\n          this.reset();\n        });\n      });\n    };\n\n    console.log(_this.props);\n    _this.applyFilter = _this.applyFilter.bind(window);\n    _this.texture = _this.props.canvas.texture(_this.props.selected.element[0]);\n    _this.state = {\n      adjust: [{\n        name: \"brightness\",\n        range: 0\n      }, {\n        name: \"contrast\",\n        range: 0\n      }, {\n        name: \"saturation\",\n        range: 0\n      }, {\n        name: \"vibrance\",\n        range: 0\n      }, {\n        name: \"exposure\",\n        range: 0\n      }, {\n        name: \"hue\",\n        range: 0\n      }, {\n        name: \"sepia\",\n        range: 0\n        /* ,\n        {\n         name: \"gamma\",\n         range: 0\n        } */\n\n      }, {\n        name: \"noise\",\n        range: 0\n      }, {\n        name: \"sharpen\",\n        range: 0\n        /* ,\n        {\n         name: \"stackBlur\",\n         range: 0\n        } */\n\n      }],\n      changedElement: null\n    };\n    return _this;\n  }\n\n  _createClass(Adjust, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var slider = this.state.adjust.map(function (element, i) {\n        if (element.name === 'brightness' || element.name === 'contrast' || element.name === 'saturation' || element.name === 'vibrance' || element.name === 'exposure') {\n          return React.createElement(Slider, {\n            SliderRange: element,\n            draggged: function draggged(event, element) {\n              return _this2.slidderChangeHandler(event, element);\n            },\n            min: \"-100\",\n            max: \"100\",\n            step: \"1\",\n            slidertype: element.name,\n            key: element.name + i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Slider, {\n            SliderRange: element,\n            draggged: function draggged(event, element) {\n              return _this2.slidderChangeHandler(event, element);\n            },\n            min: \"0\",\n            max: \"100\",\n            step: \"1\",\n            slidertype: element.name,\n            key: element.name + i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          });\n        }\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"adjust-main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, slider), React.createElement(\"button\", {\n        onClick: this.resetHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Reset\"));\n    }\n  }]);\n\n  return Adjust;\n}(Component);\n\nexport default Adjust;","map":{"version":3,"sources":["/home/adarsh/Desktop/POC/Final/new/editor-continue-position-modularized_GLFX.js/src/components/Adjust/Adjust.js"],"names":["React","Component","Slider","$","Adjust","props","slidderChangeHandler","event","element","persist","console","log","applyFilter","imgId","adjust","Promise","resolve","reject","window","caman","revert","brightness","parseFloat","range","contrast","saturation","vibrance","exposure","hue","sepia","noise","sharpen","resetHandler","image","selected","canvaselement","attr","state","map","el","setState","reset","bind","texture","canvas","name","changedElement","slider","i"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Adjust.css\";\nimport Slider from \"../slider/slider\";\nimport $ from \"jquery\";\n\n\n\nclass Adjust extends Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props);\n    this.applyFilter = this.applyFilter.bind(window)\n    this.texture =  this.props.canvas.texture(this.props.selected.element[0]);\n    \n    this.state = {\n      adjust: [\n        {\n          name: \"brightness\",\n          range: 0\n        },\n        {\n          name: \"contrast\",\n          range: 0\n        },\n        {\n          name: \"saturation\",\n          range: 0\n        },\n        {\n          name: \"vibrance\",\n          range: 0\n        },\n        {\n          name: \"exposure\",\n          range: 0\n        },\n        {\n          name: \"hue\",\n          range: 0\n        },\n        {\n          name: \"sepia\",\n          range: 0\n        }/* ,\n        {\n          name: \"gamma\",\n          range: 0\n        } */,\n        {\n          name: \"noise\",\n          range: 0\n        },\n        {\n          name: \"sharpen\",\n          range: 0\n        }/* ,\n        {\n          name: \"stackBlur\",\n          range: 0\n        } */\n      ],\n      changedElement: null\n    };\n  }\n  slidderChangeHandler = (event, element) => {\n    event.persist();\n    console.log(event,element);\n    \n   /*  let adjust = [...this.state.adjust];\n    adjust.map(el => {\n      if (el.name === element.name) {\n        el.range = event.target.value;\n      }\n    });\n    adjust =  [...this.state.adjust]\n    this.setState({ adjust: adjust, changedElement: element }); */\n};\n\napplyFilter = (imgId, adjust) => {\n  return new Promise((resolve, reject)=>{\n  window.caman(imgId, function() {\n    this.revert(false)\n   /*  this[changedElement.name](parseFloat(changedElement.range)) */\n    this.brightness(parseFloat(adjust[0].range))\n    this.contrast(parseFloat(adjust[1].range))\n    this.saturation(parseFloat(adjust[2].range))\n    this.vibrance(parseFloat(adjust[3].range))\n    this.exposure(parseFloat(adjust[4].range))\n    this.hue(parseFloat(adjust[5].range))\n    this.sepia(parseFloat(adjust[6].range))\n    this.noise(parseFloat(adjust[7].range))\n    this.sharpen(parseFloat(adjust[8].range))\n    resolve(\"Done\")\n})\n})\n}\n\nresetHandler = () => {\n  let image = $(this.props.selected.canvaselement)\n  let  imgId = '#' + image.attr('id');\n  let adjust = [...this.state.adjust];\n    console.log(adjust)\n    adjust.map(el => {\n        el.range = 0\n    });\n    this.setState({\n      adjust: adjust\n    },() => {\n      window.caman(imgId, function() { \n        this.reset()\n      })\n    })\n  \n}\n\n  render() {\n    let slider = this.state.adjust.map((element, i) => {\n      if(element.name === 'brightness' ||  element.name === 'contrast' || element.name === 'saturation' ||  \n      element.name === 'vibrance' ||  element.name === 'exposure'){\n        return (\n          <Slider\n            SliderRange={element}\n            draggged={(event, element) =>\n              this.slidderChangeHandler(event, element)\n            }\n            min=\"-100\" max=\"100\" step='1' slidertype={element.name}\n            key={element.name + i}\n         \n          />\n        );\n      }else{\n        return (\n          <Slider\n            SliderRange={element}\n            draggged={(event, element) =>\n              this.slidderChangeHandler(event, element)\n            }\n            min=\"0\" max=\"100\" step='1' slidertype={element.name}\n            key={element.name + i}\n          />\n        );\n      }\n    \n    });\n    return (\n      <React.Fragment>\n    <div className=\"adjust-main-container\">{slider}</div>\n    <button onClick={this.resetHandler}>Reset</button>\n    </React.Fragment>\n    )\n  }\n}\n\n\nexport default Adjust;\n"]},"metadata":{},"sourceType":"module"}