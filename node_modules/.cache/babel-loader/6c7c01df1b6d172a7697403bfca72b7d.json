{"ast":null,"code":"import _regeneratorRuntime from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/src/components/Adjust/Adjust.js\";\nimport React, { Component } from \"react\";\nimport \"./Adjust.css\";\nimport Slider from \"../slider/slider\";\nimport $ from \"jquery\";\nimport { Promise, resolve } from \"q\";\n/* import {Caman} from 'caman' */\n\nvar Adjust =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Adjust, _Component);\n\n  function Adjust(props) {\n    var _this;\n\n    _classCallCheck(this, Adjust);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Adjust).call(this, props));\n\n    _this.slidderChangeHandler = function (event, element) {\n      event.persist();\n\n      var adjust = _toConsumableArray(_this.state.adjust);\n\n      adjust.map(function (el) {\n        if (el.name === element.name) {\n          el.range = event.target.value;\n        }\n      });\n\n      _this.setState({\n        adjust: adjust\n      }, function () {\n        var image = $(_this.props.selected.canvaselement);\n        var imgId = null;\n\n        if (image[0].nodeName === 'CANVAS') {\n          imgId = '#' + image.attr('id');\n          window.caman(imgId,\n          /*#__PURE__*/\n          _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee() {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return renderImage().then(function (val) {\n                      if (vall === \"done\") {\n                        this.render();\n                      }\n                    });\n\n                  case 2:\n                    /*  this.stackBlur(parseFloat(adjust[10].range)) */\n                    this.render();\n\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this);\n          })));\n        }\n\n        ;\n      });\n    };\n\n    _this.resetHandler = function () {\n      var image = $(_this.props.selected.canvaselement);\n      var imgId = '#' + image.attr('id');\n\n      var adjust = _toConsumableArray(_this.state.adjust);\n\n      console.log(adjust);\n      adjust.map(function (el) {\n        el.range = 0;\n      });\n\n      _this.setState({\n        adjust: adjust\n      }, function () {\n        window.caman(imgId, function () {\n          this.reset();\n        });\n      });\n    };\n\n    console.log(_this.props);\n    _this.state = {\n      adjust: [{\n        name: \"brightness\",\n        range: 0\n      }, {\n        name: \"contrast\",\n        range: 0\n      }, {\n        name: \"saturation\",\n        range: 0\n      }, {\n        name: \"vibrance\",\n        range: 0\n      }, {\n        name: \"exposure\",\n        range: 0\n      }, {\n        name: \"hue\",\n        range: 0\n      }, {\n        name: \"sepia\",\n        range: 0\n        /* ,\n        {\n         name: \"gamma\",\n         range: 0\n        } */\n\n      }, {\n        name: \"noise\",\n        range: 0\n      }, {\n        name: \"sharpen\",\n        range: 0\n        /* ,\n        {\n         name: \"stackBlur\",\n         range: 0\n        } */\n\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(Adjust, [{\n    key: \"renderImage\",\n    value: function renderImage() {\n      return new Promise(function (reslove, reject) {\n        this.revert(true);\n        this.brightness(parseFloat(adjust[0].range));\n        this.contrast(parseFloat(adjust[1].range));\n        this.saturation(parseFloat(adjust[2].range));\n        this.vibrance(parseFloat(adjust[3].range));\n        this.exposure(parseFloat(adjust[4].range));\n        this.hue(parseFloat(adjust[5].range));\n        this.sepia(parseFloat(adjust[6].range));\n        this.noise(parseFloat(adjust[7].range));\n        this.sharpen(parseFloat(adjust[8].range));\n        resolve(\"done\");\n      });\n    }\n  }, {\n    key: \"render\",\n\n    /*  let image = $(this.props.selected)\n     let imgId = null;\n    if(image[0].nodeName === 'IMG'){\n     imgId = '#' + image.attr('id');\n     window.caman(imgId, function() {\n       this[element.name](parseFloat(event.target.value)).render()\n    */\n\n    /*    if (\n         $(this.props.selected)\n           .attr(\"id\")\n           .indexOf(\"text\") > -1\n       ) {\n         imgId =\n           \"#\" +\n           $(this.props.selected)\n             .children()\n             .attr(\"id\");\n       } else {\n         imgId = \"#\" + $(this.props.selected).attr(\"id\");\n       } */\n\n    /*  window.caman(imgId, function() {\n       this[element.name](parseFloat(event.target.value)).render()\n     });*/\n    value: function render() {\n      var _this2 = this;\n\n      var slider = this.state.adjust.map(function (element, i) {\n        return React.createElement(Slider, {\n          SliderRange: element,\n          draggging: function draggging(event, element) {\n            return _this2.slidderChangeHandler(event, element);\n          },\n          key: element.name + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        });\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"adjust-main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, slider), React.createElement(\"button\", {\n        onClick: this.resetHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Reset\"));\n    }\n  }]);\n\n  return Adjust;\n}(Component);\n\nexport default Adjust;","map":{"version":3,"sources":["/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/src/components/Adjust/Adjust.js"],"names":["React","Component","Slider","$","Promise","resolve","Adjust","props","slidderChangeHandler","event","element","persist","adjust","state","map","el","name","range","target","value","setState","image","selected","canvaselement","imgId","nodeName","attr","window","caman","renderImage","then","val","vall","render","resetHandler","console","log","reset","reslove","reject","revert","brightness","parseFloat","contrast","saturation","vibrance","exposure","hue","sepia","noise","sharpen","slider","i"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Adjust.css\";\nimport Slider from \"../slider/slider\";\nimport $ from \"jquery\";\nimport { Promise, resolve } from \"q\";\n/* import {Caman} from 'caman' */\n\nclass Adjust extends Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props);\n    this.state = {\n      adjust: [\n        {\n          name: \"brightness\",\n          range: 0\n        },\n        {\n          name: \"contrast\",\n          range: 0\n        },\n        {\n          name: \"saturation\",\n          range: 0\n        },\n        {\n          name: \"vibrance\",\n          range: 0\n        },\n        {\n          name: \"exposure\",\n          range: 0\n        },\n        {\n          name: \"hue\",\n          range: 0\n        },\n        {\n          name: \"sepia\",\n          range: 0\n        }/* ,\n        {\n          name: \"gamma\",\n          range: 0\n        } */,\n        {\n          name: \"noise\",\n          range: 0\n        },\n        {\n          name: \"sharpen\",\n          range: 0\n        }/* ,\n        {\n          name: \"stackBlur\",\n          range: 0\n        } */\n      ]\n    };\n  }\n  slidderChangeHandler = (event, element) => {\n    event.persist();\n    let adjust = [...this.state.adjust];\n    adjust.map(el => {\n      if (el.name === element.name) {\n        el.range = event.target.value;\n      }\n    });\n    this.setState({ adjust: adjust }, () => { \n      let image = $(this.props.selected.canvaselement)\n      let imgId = null;\n      \n      if(image[0].nodeName === 'CANVAS'){\n        imgId = '#' + image.attr('id');\n        window.caman(imgId, async function() {\n          await renderImage().then(function(val) {\n            if(vall === \"done\"){\n              this.render()\n            }\n          })\n         \n        /*  this.stackBlur(parseFloat(adjust[10].range)) */\n        this.render()\n      });\n    };\n  });\n};\n\nrenderImage() {\n  return new Promise(function (reslove, reject) {\n          this.revert(true)\n         this.brightness(parseFloat(adjust[0].range))\n         this.contrast(parseFloat(adjust[1].range))\n         this.saturation(parseFloat(adjust[2].range))\n         this.vibrance(parseFloat(adjust[3].range))\n         this.exposure(parseFloat(adjust[4].range))\n         this.hue(parseFloat(adjust[5].range))\n         this.sepia(parseFloat(adjust[6].range))\n         this.noise(parseFloat(adjust[7].range))\n         this.sharpen(parseFloat(adjust[8].range))\n         resolve(\"done\")\n  })\n}\nresetHandler = () => {\n  let image = $(this.props.selected.canvaselement)\n  let  imgId = '#' + image.attr('id');\n  let adjust = [...this.state.adjust];\n    console.log(adjust)\n    adjust.map(el => {\n        el.range = 0\n    });\n    this.setState({\n      adjust: adjust\n    },() => {\n      window.caman(imgId, function() { \n        this.reset()\n      })\n    })\n  \n}\n     /*  let image = $(this.props.selected)\n      let imgId = null;\n    if(image[0].nodeName === 'IMG'){\n      imgId = '#' + image.attr('id');\n      window.caman(imgId, function() {\n        this[element.name](parseFloat(event.target.value)).render()\n   */\n   /*    if (\n        $(this.props.selected)\n          .attr(\"id\")\n          .indexOf(\"text\") > -1\n      ) {\n        imgId =\n          \"#\" +\n          $(this.props.selected)\n            .children()\n            .attr(\"id\");\n      } else {\n        imgId = \"#\" + $(this.props.selected).attr(\"id\");\n      } */\n     /*  window.caman(imgId, function() {\n        this[element.name](parseFloat(event.target.value)).render()\n      });*/\n  render() {\n    let slider = this.state.adjust.map((element, i) => {\n      return (\n        <Slider\n          SliderRange={element}\n          draggging={(event, element) =>\n            this.slidderChangeHandler(event, element)\n          }\n          key={element.name + i}\n        />\n      );\n    });\n    return (\n      <React.Fragment>\n    <div className=\"adjust-main-container\">{slider}</div>\n    <button onClick={this.resetHandler}>Reset</button>\n    </React.Fragment>\n    )\n  }\n}\n\nexport default Adjust;\n"]},"metadata":{},"sourceType":"module"}