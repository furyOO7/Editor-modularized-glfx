{"ast":null,"code":"import _objectSpread from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport $ from \"jquery\";\nimport \"jquery-ui/ui/widgets/draggable\";\nimport DragSelect from \"dragselect\";\nimport Button from \"./components/Button/Button\";\nimport Slider from \"./components/slider/slider\"; // --> OFF'\n\n/* eslint no-undef: 0 */\n// eslint-disable-next-line\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      btn: [{\n        value: \"Add Element\",\n        id: \"\"\n      }, {\n        value: \"Wrap\",\n        id: \"group\"\n      }, {\n        value: \"Unwrap\",\n        id: \"ungroup\"\n      }, {\n        value: \"unwrapPerm\",\n        id: \"ungroupIndivi\"\n      }, {\n        value: \"Delete\",\n        id: \"delete\"\n      }, {\n        value: \"Copy\",\n        id: \"copy\" // { value: \"Undo\", id: \"undo\" },\n        // { value: \"Redo\", id: \"redo\" }\n\n      }],\n      dropdown: [{\n        value: \"Postion\",\n        id: \"\"\n      }, {\n        value: \"Forwards\",\n        id: \"fwd\"\n      }, {\n        value: \"To Front\",\n        id: \"front\"\n      }, {\n        value: \"Backwards\",\n        id: \"bkwd\"\n      }, {\n        value: \"To Back\",\n        id: \"Back\"\n      }, {\n        value: \"Top\",\n        id: \"top\"\n      }, {\n        value: \"Middle\",\n        id: \"middle\"\n      }, {\n        value: \"Bottom\",\n        id: \"bottom\"\n      }, {\n        value: \"Left\",\n        id: \"left\"\n      }, {\n        value: \"Centre\",\n        id: \"centre\"\n      }, {\n        value: \"Right\",\n        id: \"right\"\n      }],\n      slidder: {\n        range: 0,\n        selected: []\n      }\n    };\n\n    _this.test = function (map) {\n      console.log(map);\n    };\n\n    _this.addElement = function () {\n      if ($(\".main-container\").children().length) {\n        var x = $(\".text:last\");\n        var top = parseFloat(x.css(\"top\").slice(0, -2)); // x = x.attr(\"id\").slice(-1);\n\n        $(\".main-container\").append(\"<div class='text ele-select'>\" + Math.random().toFixed(2) + \"</div>\"); // $(\".text:last\").attr(\"id\", \"text\" + ++x);\n\n        _this.uuidv4().then(function (val) {\n          $(\".text:last\").attr(\"id\", \"text\" + val);\n          $(\".text:last\").css({\n            top: top + 27\n          });\n          $(\".text:last\").draggable({\n            cursor: \"move\"\n          });\n\n          _this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n        });\n      } else {\n        $(\".main-container\").append(\"<div class='text ele-select'>\" + Math.random().toFixed(2) + \"</div>\");\n        $(\".text\").attr(\"id\", \"text\" + 1);\n        $(\".text:last\").draggable({\n          cursor: \"move\"\n        });\n\n        _this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n      }\n    };\n\n    _this.setElemPosition = function (el, i, wrappedPostion) {\n      return new Promise(function (resolve, reject) {\n        var indivElePos = {};\n        indivElePos.top = el.top;\n        indivElePos.left = el.left;\n        indivElePos.diffTop = indivElePos.top < wrappedPostion.wrappedTop.top ? wrappedPostion.wrappedTop.top - indivElePos.top : indivElePos.top - wrappedPostion.wrappedTop.top;\n        indivElePos.diffLeft = indivElePos.left < wrappedPostion.wrappedLeft.left ? wrappedPostion.wrappedLeft.left - indivElePos.left : indivElePos.left - wrappedPostion.wrappedLeft.left;\n        $(\"#\" + el.id).css({\n          top: indivElePos.diffTop,\n          left: indivElePos.diffLeft\n        });\n        console.log(\"indivElePos\", indivElePos);\n        resolve(indivElePos);\n      });\n    };\n\n    _this.check = function (idArr) {\n      if (idArr[0].length > 1 && idArr !== \"permGroup\") {\n        var valTemp = idArr[0].map(function (value) {\n          return \"#\" + $(value).attr(\"id\");\n        });\n        var valString = valTemp.toString();\n        $(valString).wrapAll('<div class=\"wrapped ele-select\"></div>');\n        valTemp.forEach(function (element) {\n          $(element).draggable(\"disable\");\n        });\n        $(\".wrapped\").draggable({\n          cursor: \"move\"\n        });\n        var ch = $(\".wrapped\").children();\n        var childArray = [];\n        ch.each(function (i, el) {\n          childArray.push(el);\n        });\n        var wrappedPostion = {\n          totalHeight: 0,\n          totalWidth: 0,\n          totalDiffLeft: 0,\n          totalDiffTop: 0\n        };\n        var postionArray = childArray.map(function (element) {\n          var obj = {};\n          obj.id = $(element).attr(\"id\");\n          obj.top = parseFloat($(element).css(\"top\").slice(0, -2));\n          obj.left = parseFloat($(element).css(\"left\").slice(0, -2));\n          obj.height = $(element).outerHeight();\n          obj.width = $(element).outerWidth();\n          obj.right = obj.left + obj.width;\n          obj.bottom = obj.top + obj.height;\n\n          if (wrappedPostion.totalWidth < $(element).outerWidth()) {\n            wrappedPostion.totalWidth = $(element).outerWidth();\n          }\n\n          return obj;\n        });\n        var wrappedDetails = {};\n        postionArray.sort(function (a, b) {\n          return b.top < a.top ? 1 : -1;\n        });\n        console.log(\"postionArray after sorting\", postionArray);\n        wrappedPostion.wrappedTop = postionArray.hasMin(\"top\");\n        wrappedPostion.wrappedLeft = postionArray.hasMin(\"left\");\n        wrappedPostion.wrappedRight = postionArray.hasMax(\"right\");\n        wrappedPostion.wrappedBottom = postionArray.hasMax(\"bottom\");\n        console.log(wrappedPostion);\n        $(\".wrapped\").css({\n          top: wrappedPostion.wrappedTop.top,\n          left: wrappedPostion.wrappedLeft.left,\n          width: wrappedPostion.wrappedRight.right - wrappedPostion.wrappedLeft.left,\n          height: wrappedPostion.wrappedBottom.bottom - wrappedPostion.wrappedTop.top\n        });\n        postionArray.map(\n        /*#__PURE__*/\n        function () {\n          var _ref = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(el, i) {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _this.setElemPosition(el, i, wrappedPostion).then(function (val) {\n                      postionArray[i].diffTop = val.diffTop;\n                      postionArray[i].diffLeft = val.diffLeft;\n\n                      if (wrappedPostion.totalDiffLeft < val.diffLeft) {\n                        wrappedPostion.totalDiffLeft = val.diffLeft;\n                      }\n\n                      console.log(\"setElemPosition postionArray\", postionArray);\n                      console.log(\"setElemPosition wrappedPostion\", wrappedPostion);\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          return function (_x, _x2) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      } else {\n        // console.log(idArr)\n        if (idArr === \"permGroup\") {\n          var count = 0;\n          Array.prototype.slice.call(document.querySelectorAll(\".wrapped\")).forEach(function (wrapped) {\n            Array.prototype.slice.call($(\".wrapped\").children()).forEach(function (wrappedChild) {\n              if ($(wrappedChild).attr(\"id\").indexOf(\"perm\") > -1) {\n                count++;\n              }\n            });\n          });\n\n          if (count === 0) {\n            $(\".wrapped\").toggleClass(\"wrapped perm-wrapped\");\n            var cnt = $(\".perm-wrapped\");\n            cnt.each(function (i, el) {\n              $(el).attr(\"id\", \"perm-select\" + i);\n            });\n            cnt.children().each(function (i, el) {\n              $(el).removeClass(\"ele-select\");\n            });\n            /* cnt.css({\n              \"z-index\": 1\n            }) */\n\n            Array.prototype.slice.call(document.querySelectorAll(\".perm-wrapped\")).forEach(function (wrapped) {\n              _this.ds.addSelectables(wrapped);\n\n              _this.ds.removeSelectables(wrapped.children, true);\n            });\n          } else {\n            alert(\"Kindly ungroup and then group\");\n          }\n        }\n      }\n    };\n\n    _this.unwrapPer = function (permID) {\n      var val = $(permID).parent().attr(\"id\");\n      permID = \"\";\n      var cnt = $(\"#\" + val);\n      cnt.children().each(function (i, el) {\n        var parent = $(el).parent().position();\n        var pTop = parent.top;\n        var pLeft = parent.left;\n        console.log($(el).parent(), parent);\n        console.log(pTop, pLeft);\n        $(el).css({\n          top: parseFloat($(el).css(\"top\").slice(0, -2)) + pTop,\n          left: parseFloat($(el).css(\"left\").slice(0, -2)) + pLeft\n        });\n        $(el).draggable().draggable(\"enable\");\n        $(el).addClass(\"ele-select\");\n\n        _this.ds.addSelectables(el);\n      });\n      cnt.children().unwrap();\n    };\n\n    _this.unwrapAll = function (val, event) {\n      var wrappedTop, wrappedLeft, cnt;\n\n      if (val === \"perm-ungroup\") {\n        cnt = $(\".perm-wrapped\");\n      } else {\n        cnt = $(\".wrapped\");\n        wrappedTop = parseFloat($(\".wrapped\").css(\"top\").slice(0, -2));\n        wrappedLeft = parseFloat($(\".wrapped\").css(\"left\").slice(0, -2)); // console.log(wrappedTop, wrappedLeft)\n      }\n\n      cnt.children().each(function (i, el) {\n        var parent = $(el).parent().position();\n        var pTop = parent.top;\n        var pLeft = parent.left;\n        $(el).css({\n          top: parseFloat($(el).css(\"top\").slice(0, -2)) + pTop,\n          left: parseFloat($(el).css(\"left\").slice(0, -2)) + pLeft\n        });\n        $(el).draggable().draggable(\"enable\");\n        $(el).addClass(\"ele-select\");\n\n        _this.ds.addSelectables(el);\n      });\n      cnt.children().unwrap();\n    };\n\n    _this.deleteElme = function (e) {\n      if (e.keyCode === 46 || e.type === \"click\") {\n        if ($(_this.deleteElm).parent().attr(\"class\") !== \"main-container\") {\n          $(_this.deleteElm).parent().remove();\n        } else {\n          $(_this.deleteElm).remove();\n        }\n      }\n    };\n\n    _this.duplicateElement = function (copyArr) {\n      var tempArr;\n      console.log(copyArr, \"chchchch\");\n\n      if (copyArr.length > 0) {\n        tempArr = copyArr.map(function (element) {\n          if ($(element).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            return $(element).parent();\n          } else {\n            return element;\n          }\n        });\n      }\n\n      console.log(\"tempArr\", tempArr);\n\n      if (tempArr !== undefined) {\n        var cloned = $(tempArr[0]).clone();\n        cloned.insertAfter($(tempArr[0]));\n        $(cloned).draggable({\n          cursor: \"move\"\n        });\n\n        _this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n\n        if ($(tempArr[0]).attr(\"class\").indexOf(\"perm\") > -1 || $(tempArr[0]).attr(\"class\").indexOf(\"wrapped\") > -1) {\n          if ($(tempArr[0]).attr(\"class\").indexOf(\"perm\") > -1) {\n            _this.uuidv4().then(function (val) {\n              $(tempArr[0]).attr({\n                id: \"cloned-\" + $(tempArr[0]).attr(\"id\") + val\n              });\n            });\n          }\n\n          $(tempArr[0]).children().each(function (i, el) {\n            _this.uuidv4().then(function (val) {\n              $(el).attr({\n                id: \"cloned-\" + $(el).attr(\"id\") + val\n              });\n            });\n          });\n        } else {\n          _this.uuidv4().then(function (val) {\n            $(tempArr[0]).attr({\n              id: \"cloned-\" + $(cloned).attr(\"id\") + val\n            });\n          });\n        }\n      }\n    };\n\n    _this.uuidv4 = function () {\n      var store = \"\";\n      return new Promise(function (resolve, reject) {\n        \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n          var r = Math.random() * 16 | 0,\n              v = c == \"x\" ? r : r & 0x3 | 0x8;\n          store = store.concat(v.toString(16));\n        });\n        resolve(store);\n      });\n    };\n\n    _this.clickHandler = function (val, event) {\n      console.log(val);\n\n      if (val.value === \"Add Element\") {\n        _this.addElement();\n      }\n\n      if (val.value === \"Wrap\") {\n        _this.check(\"permGroup\");\n      }\n\n      if (val.value === \"Unwrap\") {\n        _this.unwrapAll(\"perm-ungroup\");\n      }\n\n      if (val.value === \"Delete\") {\n        _this.deleteElme(event);\n      }\n\n      if (val.value === \"unwrapPerm\") {\n        if ($(_this.deleteElm).parent().attr(\"class\").indexOf(\"perm\") > -1) {\n          _this.unwrapPer(_this.deleteElm);\n        }\n      }\n\n      if (val.value === \"Copy\") {\n        _this.duplicateElement(_this.copyArr);\n\n        _this.copyArr = [];\n      }\n    };\n\n    _this.dropdownClickHandler = function (event, val) {\n      console.log(event.target.value, val);\n      console.log(_this.positionElement);\n\n      if (_this.positionElement) {\n        if (event.target.value === \"Backwards\" || val === \"Backwards\") {\n          $(_this.positionElement).insertBefore($(_this.positionElement).prev());\n        }\n\n        if (event.target.value === \"Forwards\" || val === \"Forwards\") {\n          $(_this.positionElement).insertAfter($(_this.positionElement).next());\n        }\n\n        if (event.target.value === \"To Back\" || val === \"To Back\") {\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") <= -1 && $(_this.positionElement).parent().attr(\"class\").indexOf(\"perm\") <= -1) {\n            $(_this.positionElement).insertBefore($(_this.positionElement).parent()[0].firstChild);\n          }\n        }\n\n        if (event.target.value === \"To Front\" || val === \"To Front\") {\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") <= -1 && $(_this.positionElement).parent().attr(\"class\").indexOf(\"perm\") <= -1) {\n            $(_this.positionElement).insertAfter($(_this.positionElement).parent()[0].lastChild);\n          }\n        }\n\n        if (event.target.value === \"Top\") {\n          var parentPostion,\n              childPosition = {};\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            parentPostion = {\n              parent: $(_this.positionElement).parent()\n            };\n            $(parentPostion.parent).children().each(function (i, val) {\n              $(val).css({\n                top: 0\n              });\n            });\n          }\n          /* else if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"perm\") > -1\n          ) {\n          } */\n          else {\n              $(_this.positionElement).css({\n                top: 0\n              });\n            }\n        }\n\n        if (event.target.value === \"Left\") {\n          var _parentPostion,\n              _childPosition = {};\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            _parentPostion = {\n              parent: $(_this.positionElement).parent()\n            };\n            $(_parentPostion.parent).children().each(function (i, val) {\n              $(val).css({\n                left: 0\n              });\n            });\n          } else {\n            $(_this.positionElement).css({\n              left: 0\n            });\n          }\n        }\n\n        if (event.target.value === \"Bottom\") {\n          var _parentPostion2,\n              _childPosition2 = {};\n\n          _parentPostion2 = {\n            parent: $(_this.positionElement).parent(),\n            height: $(_this.positionElement).parent().outerHeight()\n          };\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            $(_parentPostion2.parent).children().each(function (i, val) {\n              _childPosition2 = {\n                height: $(val).outerHeight()\n              };\n              $(val).css({\n                top: _parentPostion2.height - _childPosition2.height\n              });\n            });\n          } else {\n            _childPosition2 = {\n              height: $(_this.positionElement).outerHeight()\n            };\n            $(_this.positionElement).css({\n              top: _parentPostion2.height - _childPosition2.height\n            });\n          }\n        }\n\n        if (event.target.value === \"Right\") {\n          var _parentPostion3,\n              _childPosition3 = {};\n\n          _parentPostion3 = {\n            parent: $(_this.positionElement).parent(),\n            width: $(_this.positionElement).parent().outerWidth()\n          };\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            $(_parentPostion3.parent).children().each(function (i, val) {\n              _childPosition3 = {\n                width: $(val).outerWidth()\n              };\n              $(val).css({\n                left: _parentPostion3.width - _childPosition3.width\n              });\n            });\n          } else {\n            _childPosition3 = {\n              width: $(_this.positionElement).outerWidth()\n            };\n            $(_this.positionElement).css({\n              left: _parentPostion3.width - _childPosition3.width\n            });\n          }\n        }\n\n        if (event.target.value === \"Centre\") {\n          var _parentPostion4,\n              _childPosition4 = {};\n\n          _parentPostion4 = {\n            parent: $(_this.positionElement).parent(),\n            width: $(_this.positionElement).parent().outerWidth() / 2\n          };\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            $(_parentPostion4.parent).children().each(function (i, val) {\n              _childPosition4 = {\n                width: $(val).outerWidth() / 2\n              };\n              $(val).css({\n                left: _parentPostion4.width - _childPosition4.width\n              });\n            });\n          } else {\n            _childPosition4 = {\n              width: $(_this.positionElement).outerWidth() / 2\n            };\n            $(_this.positionElement).css({\n              left: _parentPostion4.width - _childPosition4.width\n            });\n          }\n        }\n\n        if (event.target.value === \"Middle\") {\n          var _parentPostion5,\n              _childPosition5 = {};\n\n          _parentPostion5 = {\n            parent: $(_this.positionElement).parent(),\n            height: $(_this.positionElement).parent().outerHeight() / 2\n          };\n\n          if ($(_this.positionElement).parent().attr(\"class\").indexOf(\"wrapped\") > -1) {\n            $(_parentPostion5.parent).children().each(function (i, val) {\n              _childPosition5 = {\n                height: $(val).outerHeight() / 2\n              };\n              $(val).css({\n                top: _parentPostion5.height - _childPosition5.height\n              });\n            });\n          } else {\n            _childPosition5 = {\n              height: $(_this.positionElement).outerHeight() / 2\n            };\n            $(_this.positionElement).css({\n              top: _parentPostion5.height - _childPosition5.height\n            });\n          }\n        }\n      }\n    };\n\n    _this.slidderChangeHandler = function (event) {\n      var slidder = _objectSpread({}, _this.state.slidder);\n\n      slidder.range = event.target.value;\n\n      _this.setState({\n        slidder: slidder\n      }, function () {\n        $(_this.state.slidder.selected).css({\n          opacity: _this.state.slidder.range / 100\n        });\n      });\n    };\n\n    var ds;\n    _this.ds = ds;\n\n    var _permID, deleteElm, history;\n\n    _this.copyArr = [];\n    _this.positionElement = \"\";\n    _this.history = history;\n    _this.deleteElm = deleteElm;\n\n    Array.prototype.hasMin = function (attrib) {\n      return this.reduce(function (prev, curr) {\n        return prev[attrib] < curr[attrib] ? prev : curr;\n      });\n    };\n\n    Array.prototype.hasMax = function (attrib) {\n      return this.reduce(function (prev, curr) {\n        return prev[attrib] > curr[attrib] ? prev : curr;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var idArray = [];\n      var permIdarray = [];\n      this.ds = new DragSelect({\n        selectables: document.getElementsByClassName(\"ele-select\"),\n        area: document.getElementById(\"canvas\"),\n        onElementSelect: function onElementSelect(element) {\n          _this2.positionElement = element;\n\n          var slidder = _objectSpread({}, _this2.state.slidder);\n\n          slidder.selected.push(element);\n          slidder.range = Math.trunc($(element).css('opacity') * 100);\n\n          _this2.setState({\n            slidder: slidder\n          });\n\n          idArray.push(_this2.ds.getSelection());\n\n          _this2.copyArr.push(_this2.ds.getSelection());\n        }\n      });\n      $(\".text\").draggable({\n        cursor: \"move\"\n      });\n      $(\"#canvas\").on(\"mousedown\", \".main-container\", function (e) {\n        $(\"#ungroupIndivi\").css({\n          opacity: 0\n        });\n        $(\"#delete\").css({\n          opacity: 0\n        });\n\n        var slidder = _objectSpread({}, _this2.state.slidder);\n\n        slidder.selected = [];\n\n        _this2.setState({\n          slidder: slidder\n        });\n\n        if ($(e.target).attr(\"class\").indexOf(\"main-container\") > -1) {\n          if ($(\".wrapped\").length > 0) {\n            _this2.unwrapAll();\n          }\n\n          _this2.ds.start();\n        } else {\n          _this2.deleteElm = e.target;\n          $(\"#delete\").css({\n            opacity: 1\n          });\n\n          if ($(e.target).parent().attr(\"class\").indexOf(\"perm\") > -1) {\n            $(\"#ungroupIndivi\").css({\n              opacity: 1\n            });\n          }\n\n          idArray = [];\n\n          _this2.ds.stop();\n\n          _this2.ds.break();\n        }\n      });\n      $(\"#canvas\").on(\"mouseup\", function (e) {\n        if (idArray.length > 1) {\n          _this2.check(idArray);\n        }\n\n        _this2.ds.stop();\n\n        _this2.ds.start();\n      }); // $(\"body\").on(\"keydown\", e => {\n      // });\n\n      var map = {}; // You could also use an array\n\n      onkeydown = onkeyup = function onkeyup(event) {\n        event = event || event; // to deal with IE\n\n        map[event.keyCode] = event.type == 'keydown';\n        /* insert conditional here */\n\n        if (_this2.deleteElm && map[46]) {\n          _this2.deleteElme(event);\n        }\n\n        _this2.test(map);\n        /*  console.log(map[17] && map[16] && map[221] && this.positionElement)\n         if(map[17] && map[16] && map[221] && this.positionElement){\n           console.log(\"here\");\n           \n           this.dropdownClickHandler(event, \"To Front\")\n         }\n         if(map[17] && map[16] && map[219] && this.positionElement){\n           this.dropdownClickHandler(event, \"To Back\")\n         }\n         if(map[17] && map[221] && this.positionElement){\n           this.dropdownClickHandler(event, \"Forwards\")\n         }\n         if(map[17] && map[219] && this.positionElement){\n           this.dropdownClickHandler(event, \"Backwards\")\n         }\n         map = {} */\n\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var button = this.state.btn.map(function (element, i) {\n        return React.createElement(Button, {\n          value: element,\n          clicked: function clicked(event) {\n            return _this3.clickHandler(element, event);\n          },\n          key: i + element,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 800\n          },\n          __self: this\n        });\n      });\n      var slidderShow = this.positionElement !== undefined && this.positionElement !== \"\";\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 810\n        },\n        __self: this\n      }, button, React.createElement(\"div\", {\n        className: \"dropdown-main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 812\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        onClick: this.dropdownClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813\n        },\n        __self: this\n      }, this.state.dropdown.map(function (element, i) {\n        return React.createElement(\"option\", {\n          key: i + element.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 815\n          },\n          __self: this\n        }, element.value);\n      }))), slidderShow ? React.createElement(Slider, {\n        SliderRange: this.state.slidder,\n        draggged: function draggged(event) {\n          return _this3.slidderChangeHandler(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 819\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        id: \"canvas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 821\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 822\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text ele-select\",\n        id: \"text1\",\n        draggable: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 823\n        },\n        __self: this\n      }, \"Some text\"), React.createElement(\"div\", {\n        className: \"text ele-select\",\n        id: \"text2\",\n        draggable: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826\n        },\n        __self: this\n      }, \"Another text\"))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/adarsh/Desktop/POC/Final/React-editor/editor-continue-position/src/App.js"],"names":["React","Component","$","DragSelect","Button","Slider","App","props","state","btn","value","id","dropdown","slidder","range","selected","test","map","console","log","addElement","children","length","x","top","parseFloat","css","slice","append","Math","random","toFixed","uuidv4","then","val","attr","draggable","cursor","ds","addSelectables","document","getElementsByClassName","setElemPosition","el","i","wrappedPostion","Promise","resolve","reject","indivElePos","left","diffTop","wrappedTop","diffLeft","wrappedLeft","check","idArr","valTemp","valString","toString","wrapAll","forEach","element","ch","childArray","each","push","totalHeight","totalWidth","totalDiffLeft","totalDiffTop","postionArray","obj","height","outerHeight","width","outerWidth","right","bottom","wrappedDetails","sort","a","b","hasMin","wrappedRight","hasMax","wrappedBottom","count","Array","prototype","call","querySelectorAll","wrapped","wrappedChild","indexOf","toggleClass","cnt","removeClass","removeSelectables","alert","unwrapPer","permID","parent","position","pTop","pLeft","addClass","unwrap","unwrapAll","event","deleteElme","e","keyCode","type","deleteElm","remove","duplicateElement","copyArr","tempArr","undefined","cloned","clone","insertAfter","store","replace","c","r","v","concat","clickHandler","dropdownClickHandler","target","positionElement","insertBefore","prev","next","firstChild","lastChild","parentPostion","childPosition","slidderChangeHandler","setState","opacity","history","attrib","reduce","curr","idArray","permIdarray","selectables","area","getElementById","onElementSelect","trunc","getSelection","on","start","stop","break","onkeydown","onkeyup","button","slidderShow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport $ from \"jquery\";\nimport \"jquery-ui/ui/widgets/draggable\";\nimport DragSelect from \"dragselect\";\nimport Button from \"./components/Button/Button\";\nimport Slider from \"./components/slider/slider\";\n// --> OFF'\n\n/* eslint no-undef: 0 */\n// eslint-disable-next-line\nclass App extends Component {\n  state = {\n    btn: [\n      { value: \"Add Element\", id: \"\" },\n      { value: \"Wrap\", id: \"group\" },\n      { value: \"Unwrap\", id: \"ungroup\" },\n      { value: \"unwrapPerm\", id: \"ungroupIndivi\" },\n      { value: \"Delete\", id: \"delete\" },\n      { value: \"Copy\", id: \"copy\" }\n      // { value: \"Undo\", id: \"undo\" },\n      // { value: \"Redo\", id: \"redo\" }\n    ],\n    dropdown: [\n      { value: \"Postion\", id: \"\" },\n      { value: \"Forwards\", id: \"fwd\" },\n      { value: \"To Front\", id: \"front\" },\n      { value: \"Backwards\", id: \"bkwd\" },\n      { value: \"To Back\", id: \"Back\" },\n      { value: \"Top\", id: \"top\" },\n      { value: \"Middle\", id: \"middle\" },\n      { value: \"Bottom\", id: \"bottom\" },\n      { value: \"Left\", id: \"left\" },\n      { value: \"Centre\", id: \"centre\" },\n      { value: \"Right\", id: \"right\" }\n    ],\n    slidder: {\n      range : 0,\n      selected: []\n    }\n  };\n  constructor(props) {\n    super(props);\n    var ds;\n    this.ds = ds;\n    var permID, deleteElm, history;\n    this.copyArr = [];\n    this.positionElement = \"\";\n    this.history = history;\n    this.deleteElm = deleteElm;\n    Array.prototype.hasMin = function(attrib) {\n      return this.reduce(function(prev, curr) {\n        return prev[attrib] < curr[attrib] ? prev : curr;\n      });\n    };\n\n    Array.prototype.hasMax = function(attrib) {\n      return this.reduce(function(prev, curr) {\n        return prev[attrib] > curr[attrib] ? prev : curr;\n      });\n    };\n  }\n\n  componentDidMount() {\n    var idArray = [];\n    var permIdarray = [];\n    this.ds = new DragSelect({\n      selectables: document.getElementsByClassName(\"ele-select\"),\n      area: document.getElementById(\"canvas\"),\n      onElementSelect: element => {\n        this.positionElement = element;\n        let slidder = {...this.state.slidder}\n        slidder.selected.push(element);\n        slidder.range = Math.trunc($(element).css('opacity') * 100)\n        this.setState({\n          slidder: slidder\n        })\n        idArray.push(this.ds.getSelection());\n        this.copyArr.push(this.ds.getSelection());\n      }\n    });\n    $(\".text\").draggable({\n      cursor: \"move\"\n    });\n\n    $(\"#canvas\").on(\"mousedown\", \".main-container\", e => {\n      $(\"#ungroupIndivi\").css({\n        opacity: 0\n      });\n      $(\"#delete\").css({\n        opacity: 0\n      });\n      let slidder = {...this.state.slidder}\n    \n        slidder.selected = []\n        this.setState({\n          slidder: slidder\n        })\n      if (\n        $(e.target)\n          .attr(\"class\")\n          .indexOf(\"main-container\") > -1\n      ) {\n        if ($(\".wrapped\").length > 0) {\n          this.unwrapAll();\n        }\n        this.ds.start();\n      } else {\n        this.deleteElm = e.target;\n        $(\"#delete\").css({\n          opacity: 1\n        });\n        if (\n          $(e.target)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"perm\") > -1\n        ) {\n          $(\"#ungroupIndivi\").css({\n            opacity: 1\n          });\n        }\n        idArray = [];\n        this.ds.stop();\n        this.ds.break();\n      }\n    });\n    $(\"#canvas\").on(\"mouseup\", e => {\n      if (idArray.length > 1) {\n        this.check(idArray);\n      }\n      this.ds.stop();\n      this.ds.start();\n    });\n    // $(\"body\").on(\"keydown\", e => {\n      \n     \n    // });\n\n  \n  var map = {}; // You could also use an array\nonkeydown = onkeyup = (event) => {\n  event = event || event; // to deal with IE\n    map[event.keyCode] = event.type == 'keydown';\n    /* insert conditional here */\n    if (this.deleteElm && map[46]) {\n      this.deleteElme(event);\n    }\n    this.test(map)\n   /*  console.log(map[17] && map[16] && map[221] && this.positionElement)\n    if(map[17] && map[16] && map[221] && this.positionElement){\n      console.log(\"here\");\n      \n      this.dropdownClickHandler(event, \"To Front\")\n    }\n    if(map[17] && map[16] && map[219] && this.positionElement){\n      this.dropdownClickHandler(event, \"To Back\")\n    }\n    if(map[17] && map[221] && this.positionElement){\n      this.dropdownClickHandler(event, \"Forwards\")\n    }\n    if(map[17] && map[219] && this.positionElement){\n      this.dropdownClickHandler(event, \"Backwards\")\n    }\n    map = {} */\n\n}\n  }\n\n  test = (map) => {\n    console.log(map);\n    \n  }\n  addElement = () => {\n    if ($(\".main-container\").children().length) {\n      var x = $(\".text:last\");\n      var top = parseFloat(x.css(\"top\").slice(0, -2));\n      // x = x.attr(\"id\").slice(-1);\n      $(\".main-container\").append(\n        \"<div class='text ele-select'>\" + Math.random().toFixed(2) + \"</div>\"\n      );\n      // $(\".text:last\").attr(\"id\", \"text\" + ++x);\n      this.uuidv4().then(val => {\n        $(\".text:last\").attr(\"id\", \"text\" + val);\n        $(\".text:last\").css({\n          top: top + 27\n        });\n        $(\".text:last\").draggable({\n          cursor: \"move\"\n        });\n        this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n      });\n    } else {\n      $(\".main-container\").append(\n        \"<div class='text ele-select'>\" + Math.random().toFixed(2) + \"</div>\"\n      );\n      $(\".text\").attr(\"id\", \"text\" + 1);\n      $(\".text:last\").draggable({\n        cursor: \"move\"\n      });\n      this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n    }\n  };\n\n  setElemPosition = (el, i, wrappedPostion) => {\n    return new Promise((resolve, reject) => {\n      var indivElePos = {};\n      indivElePos.top = el.top;\n      indivElePos.left = el.left;\n      indivElePos.diffTop =\n        indivElePos.top < wrappedPostion.wrappedTop.top\n          ? wrappedPostion.wrappedTop.top - indivElePos.top\n          : indivElePos.top - wrappedPostion.wrappedTop.top;\n      indivElePos.diffLeft =\n        indivElePos.left < wrappedPostion.wrappedLeft.left\n          ? wrappedPostion.wrappedLeft.left - indivElePos.left\n          : indivElePos.left - wrappedPostion.wrappedLeft.left;\n      $(\"#\" + el.id).css({\n        top: indivElePos.diffTop,\n        left: indivElePos.diffLeft\n      });\n      console.log(\"indivElePos\", indivElePos);\n      resolve(indivElePos);\n    });\n  };\n\n  check = idArr => {\n    if (idArr[0].length > 1 && idArr !== \"permGroup\") {\n      var valTemp = idArr[0].map(value => {\n        return \"#\" + $(value).attr(\"id\");\n      });\n      var valString = valTemp.toString();\n      $(valString).wrapAll('<div class=\"wrapped ele-select\"></div>');\n      valTemp.forEach(element => {\n        $(element).draggable(\"disable\");\n      });\n      $(\".wrapped\").draggable({\n        cursor: \"move\"\n      });\n      var ch = $(\".wrapped\").children();\n      let childArray = [];\n      ch.each((i, el) => {\n        childArray.push(el);\n      });\n      var wrappedPostion = {\n        totalHeight: 0,\n        totalWidth: 0,\n        totalDiffLeft: 0,\n        totalDiffTop: 0\n      };\n      var postionArray = childArray.map(element => {\n        var obj = {};\n        obj.id = $(element).attr(\"id\");\n        obj.top = parseFloat(\n          $(element)\n            .css(\"top\")\n            .slice(0, -2)\n        );\n        obj.left = parseFloat(\n          $(element)\n            .css(\"left\")\n            .slice(0, -2)\n        );\n        obj.height = $(element).outerHeight();\n        obj.width = $(element).outerWidth();\n        obj.right = obj.left + obj.width;\n        obj.bottom = obj.top + obj.height;\n        if (wrappedPostion.totalWidth < $(element).outerWidth()) {\n          wrappedPostion.totalWidth = $(element).outerWidth();\n        }\n        return obj;\n      });\n      var wrappedDetails = {};\n      postionArray.sort((a, b) => (b.top < a.top ? 1 : -1));\n      console.log(\"postionArray after sorting\", postionArray);\n      wrappedPostion.wrappedTop = postionArray.hasMin(\"top\");\n      wrappedPostion.wrappedLeft = postionArray.hasMin(\"left\");\n      wrappedPostion.wrappedRight = postionArray.hasMax(\"right\");\n      wrappedPostion.wrappedBottom = postionArray.hasMax(\"bottom\");\n      console.log(wrappedPostion);\n      $(\".wrapped\").css({\n        top: wrappedPostion.wrappedTop.top,\n        left: wrappedPostion.wrappedLeft.left,\n        width:\n          wrappedPostion.wrappedRight.right - wrappedPostion.wrappedLeft.left,\n        height:\n          wrappedPostion.wrappedBottom.bottom - wrappedPostion.wrappedTop.top\n      });\n      postionArray.map(async (el, i) => {\n        await this.setElemPosition(el, i, wrappedPostion).then(val => {\n          postionArray[i].diffTop = val.diffTop;\n          postionArray[i].diffLeft = val.diffLeft;\n          if (wrappedPostion.totalDiffLeft < val.diffLeft) {\n            wrappedPostion.totalDiffLeft = val.diffLeft;\n          }\n          console.log(\"setElemPosition postionArray\", postionArray);\n          console.log(\"setElemPosition wrappedPostion\", wrappedPostion);\n        });\n      });\n    } else {\n      // console.log(idArr)\n      if (idArr === \"permGroup\") {\n        var count = 0;\n        Array.prototype.slice\n          .call(document.querySelectorAll(\".wrapped\"))\n          .forEach(wrapped => {\n            Array.prototype.slice\n              .call($(\".wrapped\").children())\n              .forEach(wrappedChild => {\n                if (\n                  $(wrappedChild)\n                    .attr(\"id\")\n                    .indexOf(\"perm\") > -1\n                ) {\n                  count++;\n                }\n              });\n          });\n        if (count === 0) {\n          $(\".wrapped\").toggleClass(\"wrapped perm-wrapped\");\n          var cnt = $(\".perm-wrapped\");\n          cnt.each((i, el) => {\n            $(el).attr(\"id\", \"perm-select\" + i);\n          });\n          cnt.children().each((i, el) => {\n            $(el).removeClass(\"ele-select\");\n          });\n          /* cnt.css({\n            \"z-index\": 1\n          }) */\n          Array.prototype.slice\n            .call(document.querySelectorAll(\".perm-wrapped\"))\n            .forEach(wrapped => {\n              this.ds.addSelectables(wrapped);\n              this.ds.removeSelectables(wrapped.children, true);\n            });\n        } else {\n          alert(\"Kindly ungroup and then group\");\n        }\n      }\n    }\n  };\n  /* To unnwrap permanent */\n  unwrapPer = permID => {\n    var val = $(permID)\n      .parent()\n      .attr(\"id\");\n    permID = \"\";\n    var cnt = $(\"#\" + val);\n\n    cnt.children().each((i, el) => {\n      var parent = $(el)\n        .parent()\n        .position();\n      var pTop = parent.top;\n      var pLeft = parent.left;\n      console.log($(el).parent(), parent);\n      console.log(pTop, pLeft);\n      $(el).css({\n        top:\n          parseFloat(\n            $(el)\n              .css(\"top\")\n              .slice(0, -2)\n          ) + pTop,\n        left:\n          parseFloat(\n            $(el)\n              .css(\"left\")\n              .slice(0, -2)\n          ) + pLeft\n      });\n      $(el)\n        .draggable()\n        .draggable(\"enable\");\n      $(el).addClass(\"ele-select\");\n      this.ds.addSelectables(el);\n    });\n    cnt.children().unwrap();\n  };\n\n  /* working unWrapAll */\n  unwrapAll = (val, event) => {\n    let wrappedTop, wrappedLeft, cnt;\n    if (val === \"perm-ungroup\") {\n      cnt = $(\".perm-wrapped\");\n    } else {\n      cnt = $(\".wrapped\");\n      wrappedTop = parseFloat(\n        $(\".wrapped\")\n          .css(\"top\")\n          .slice(0, -2)\n      );\n      wrappedLeft = parseFloat(\n        $(\".wrapped\")\n          .css(\"left\")\n          .slice(0, -2)\n      );\n      // console.log(wrappedTop, wrappedLeft)\n    }\n    cnt.children().each((i, el) => {\n      var parent = $(el)\n        .parent()\n        .position();\n      var pTop = parent.top;\n      var pLeft = parent.left;\n      $(el).css({\n        top:\n          parseFloat(\n            $(el)\n              .css(\"top\")\n              .slice(0, -2)\n          ) + pTop,\n        left:\n          parseFloat(\n            $(el)\n              .css(\"left\")\n              .slice(0, -2)\n          ) + pLeft\n      });\n      $(el)\n        .draggable()\n        .draggable(\"enable\");\n      $(el).addClass(\"ele-select\");\n      this.ds.addSelectables(el);\n    });\n    cnt.children().unwrap();\n  };\n  deleteElme = e => {\n    if (e.keyCode === 46 || e.type === \"click\") {\n      if (\n        $(this.deleteElm)\n          .parent()\n          .attr(\"class\") !== \"main-container\"\n      ) {\n        $(this.deleteElm)\n          .parent()\n          .remove();\n      } else {\n        $(this.deleteElm).remove();\n      }\n    }\n  };\n\n  duplicateElement = copyArr => {\n    var tempArr;\n    console.log(copyArr, \"chchchch\");\n    if (copyArr.length > 0) {\n      tempArr = copyArr.map(element => {\n        if (\n          $(element)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          return $(element).parent();\n        } else {\n          return element;\n        }\n      });\n    }\n    console.log(\"tempArr\", tempArr);\n    if (tempArr !== undefined) {\n      var cloned = $(tempArr[0]).clone();\n      cloned.insertAfter($(tempArr[0]));\n      $(cloned).draggable({\n        cursor: \"move\"\n      });\n      this.ds.addSelectables(document.getElementsByClassName(\"ele-select\"));\n      if (\n        $(tempArr[0])\n          .attr(\"class\")\n          .indexOf(\"perm\") > -1 ||\n        $(tempArr[0])\n          .attr(\"class\")\n          .indexOf(\"wrapped\") > -1\n      ) {\n        if (\n          $(tempArr[0])\n            .attr(\"class\")\n            .indexOf(\"perm\") > -1\n        ) {\n          this.uuidv4().then(val => {\n            $(tempArr[0]).attr({\n              id: \"cloned-\" + $(tempArr[0]).attr(\"id\") + val\n            });\n          });\n        }\n        $(tempArr[0])\n          .children()\n          .each((i, el) => {\n            this.uuidv4().then(val => {\n              $(el).attr({\n                id: \"cloned-\" + $(el).attr(\"id\") + val\n              });\n            });\n          });\n      } else {\n        this.uuidv4().then(val => {\n          $(tempArr[0]).attr({\n            id: \"cloned-\" + $(cloned).attr(\"id\") + val\n          });\n        });\n      }\n    }\n  };\n\n  uuidv4 = () => {\n    var store = \"\";\n    return new Promise((resolve, reject) => {\n      \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, c => {\n        var r = (Math.random() * 16) | 0,\n          v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        store = store.concat(v.toString(16));\n      });\n      resolve(store);\n    });\n  };\n\n  clickHandler = (val, event) => {\n    console.log(val);\n    if (val.value === \"Add Element\") {\n      this.addElement();\n    }\n    if (val.value === \"Wrap\") {\n      this.check(\"permGroup\");\n    }\n    if (val.value === \"Unwrap\") {\n      this.unwrapAll(\"perm-ungroup\");\n    }\n    if (val.value === \"Delete\") {\n      this.deleteElme(event);\n    }\n    if (val.value === \"unwrapPerm\") {\n      if (\n        $(this.deleteElm)\n          .parent()\n          .attr(\"class\")\n          .indexOf(\"perm\") > -1\n      ) {\n        this.unwrapPer(this.deleteElm);\n      }\n    }\n    if (val.value === \"Copy\") {\n      this.duplicateElement(this.copyArr);\n      this.copyArr = [];\n    }\n  };\n\n  dropdownClickHandler = (event, val) => {\n    console.log(event.target.value, val);\n    console.log(this.positionElement);\n    \n    if (this.positionElement) {\n      if (event.target.value === \"Backwards\" || val === \"Backwards\") {\n        $(this.positionElement).insertBefore($(this.positionElement).prev());\n      }\n      if (event.target.value === \"Forwards\" || val === \"Forwards\") {\n        $(this.positionElement).insertAfter($(this.positionElement).next());\n      }\n      if (event.target.value === \"To Back\" || val === \"To Back\") {\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") <= -1 && $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"perm\") <= -1\n        ) {\n          $(this.positionElement).insertBefore($(this.positionElement).parent()[0].firstChild);\n        }\n      }\n      if (event.target.value === \"To Front\" || val === \"To Front\") {\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") <= -1 && $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"perm\") <= -1\n        ) {\n          $(this.positionElement).insertAfter($(this.positionElement).parent()[0].lastChild);\n        }\n      }\n      if (event.target.value === \"Top\") {\n        let parentPostion,\n          childPosition = {};\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          parentPostion = {\n            parent: $(this.positionElement).parent()\n          };\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              $(val).css({\n                top: 0\n              });\n            });\n        } /* else if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"perm\") > -1\n        ) {\n        } */ else {\n          $(this.positionElement).css({\n            top: 0\n          });\n        }\n      }\n      if (event.target.value === \"Left\") {\n        let parentPostion,\n          childPosition = {};\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          parentPostion = {\n            parent: $(this.positionElement).parent()\n          };\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              $(val).css({\n                left: 0\n              });\n            });\n        } else {\n          $(this.positionElement).css({\n            left: 0\n          });\n        }\n      }\n      if (event.target.value === \"Bottom\") {\n        let parentPostion,\n          childPosition = {};\n        parentPostion = {\n          parent: $(this.positionElement).parent(),\n          height: $(this.positionElement)\n            .parent()\n            .outerHeight()\n        };\n\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              childPosition = {\n                height: $(val).outerHeight()\n              };\n              $(val).css({\n                top: parentPostion.height - childPosition.height\n              });\n            });\n        } else {\n          childPosition = {\n            height: $(this.positionElement).outerHeight()\n          };\n          $(this.positionElement).css({\n            top: parentPostion.height - childPosition.height\n          });\n        }\n      }\n      if (event.target.value === \"Right\") {\n        let parentPostion,\n          childPosition = {};\n        parentPostion = {\n          parent: $(this.positionElement).parent(),\n          width: $(this.positionElement)\n            .parent()\n            .outerWidth()\n        };\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              childPosition = {\n                width: $(val).outerWidth()\n              };\n              $(val).css({\n                left: parentPostion.width - childPosition.width\n              });\n            });\n        } else {\n          childPosition = {\n            width: $(this.positionElement).outerWidth()\n          };\n          $(this.positionElement).css({\n            left: parentPostion.width - childPosition.width\n          });\n        }\n      }\n      if (event.target.value === \"Centre\") {\n        let parentPostion,\n          childPosition = {};\n        parentPostion = {\n          parent: $(this.positionElement).parent(),\n          width:\n            $(this.positionElement)\n              .parent()\n              .outerWidth() / 2\n        };\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              childPosition = {\n                width: $(val).outerWidth() / 2\n              };\n              $(val).css({\n                left: parentPostion.width - childPosition.width\n              });\n            });\n        } else {\n          childPosition = {\n            width: $(this.positionElement).outerWidth() / 2\n          };\n          $(this.positionElement).css({\n            left: parentPostion.width - childPosition.width\n          });\n        }\n      }\n      if (event.target.value === \"Middle\") {\n        let parentPostion,\n          childPosition = {};\n        parentPostion = {\n          parent: $(this.positionElement).parent(),\n          height:\n            $(this.positionElement)\n              .parent()\n              .outerHeight() / 2\n        };\n        if (\n          $(this.positionElement)\n            .parent()\n            .attr(\"class\")\n            .indexOf(\"wrapped\") > -1\n        ) {\n          $(parentPostion.parent)\n            .children()\n            .each((i, val) => {\n              childPosition = {\n                height: $(val).outerHeight() / 2\n              };\n              $(val).css({\n                top: parentPostion.height - childPosition.height\n              });\n            });\n        } else {\n          childPosition = {\n            height: $(this.positionElement).outerHeight() / 2\n          };\n          $(this.positionElement).css({\n            top: parentPostion.height - childPosition.height\n          });\n        }\n      }\n    }\n  };\n  slidderChangeHandler = (event) => {\n    let slidder = {...this.state.slidder};\n    slidder.range = event.target.value\n    this.setState({\n      slidder: slidder\n    }, () => {\n    $(this.state.slidder.selected).css({\n      opacity: this.state.slidder.range/100\n    });\n      \n    })\n    \n  }\n  render() {\n    var button = this.state.btn.map((element, i) => {\n      return (\n        <Button\n          value={element}\n          clicked={event => this.clickHandler(element, event)}\n          key={i + element}\n        />\n      );\n    });\n    var slidderShow =  this.positionElement !== undefined &&  this.positionElement !== \"\"\n\n    return (\n      <React.Fragment>\n        {button}\n        <div className=\"dropdown-main-container\">\n          <select onClick={this.dropdownClickHandler}>\n            {this.state.dropdown.map((element, i) => {\n              return <option key={i + element.id}>{element.value}</option>;\n            })}\n          </select>\n        </div>\n    {slidderShow ? (< Slider SliderRange= {this.state.slidder} draggged={(event) => this.slidderChangeHandler(event)}/>) \n    : null}\n        <div id=\"canvas\">\n          <div className=\"main-container\">\n            <div className=\"text ele-select\" id=\"text1\" draggable=\"true\">\n              Some text\n            </div>\n            <div className=\"text ele-select\" id=\"text2\" draggable=\"true\">\n              Another text\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}